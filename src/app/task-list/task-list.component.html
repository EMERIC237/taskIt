<header class="mb-4">
  <h1>Task List</h1>
</header>
<div class="d-flex justify-content-between align-items-center mb-4">
  <div>
    <label class="mr-2">Filters:</label>
    <select
      class="form-select d-inline-block w-auto mr-2"
      [(ngModel)]="selectedStatus"
      (change)="filterTasks()"
    >
      <option value="" selected hidden>Status</option>
      <option value="">--All--</option>
      <option *ngFor="let status of statuses" [value]="status">
        {{ status }}
      </option>
    </select>
    <select
      class="form-select d-inline-block w-auto mr-2"
      [(ngModel)]="selectedDate"
      (change)="filterTasks()"
    >
      <option value="" selected hidden>Date</option>
      <option value="">--All--</option>
      <option *ngFor="let date of getUniqueDates()" [value]="date">
        {{ date | date }}
      </option>
    </select>
    <select
      class="form-select d-inline-block w-auto"
      [(ngModel)]="selectedPriority"
      (change)="filterTasks()"
    >
      <option value="" selected hidden>Priority</option>
      <option value="">--All--</option>
      <option *ngFor="let priority of priorities" [value]="priority">
        {{ priority }}
      </option>
    </select>
  </div>
  <button (click)="onAddNewTask()" class="btn btn-success rounded">
    Add new Task
  </button>
</div>
<div class="table-responsive">
  <table
    class="table table-striped table-bordered table-hover rounded-3 custom-table"
  >
    <thead>
      <tr>
        <th scope="col">Title</th>
        <th scope="col">Due Date</th>
        <th scope="col">Priority</th>
        <th scope="col">Status</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let task of tasks">
        <th scope="row">{{ task.title }}</th>
        <td>{{ task.dueDate | date }}</td>
        <td>{{ task.priority }}</td>
        <td>{{ task.status }}</td>
        <td class="d-flex justify-content-around">
          <i
            class="material-icons"
            (click)="onViewTask(task.taskId)"
            title="View Task"
            >visibility</i
          >
          <i
            class="material-icons"
            (click)="onEditTask(task.taskId)"
            title="Edit Task"
            >edit</i
          >
          <i
            class="material-icons"
            (click)="onDeleteTask(task.taskId)"
            title="Delete Task"
            >delete</i
          >
        </td>
      </tr>
    </tbody>
  </table>
</div>
